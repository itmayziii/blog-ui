<div class="container-fluid">
    <div class="row justify-content-center">

        <form [formGroup]="postForm" (ngSubmit)="onSubmit()" method="post" class="post-form col-12 col-lg-6"
              novalidate enctype="multipart/form-data" target="_blank">
            <div class="row justify-content-center">

                <div class="col-11">
                    <div class="row justify-content-center">
                        <h2 class="col-12 text-center text-secondary">Post {{ postForm.get('slug').value }}</h2>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="title">Title<span class="required">*</span></label>
                            <input class="form-control" type="text" name="title" id="title" formControlName="title"
                                   autofocus
                                   postSlugify="slug">
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="slug">Slug<span class="required">*</span></label>
                            <input class="form-control" type="text" name="slug" id="slug" formControlName="slug">
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="status">Status<span class="required">*</span></label>
                            <select name="status" id="status" class="form-control" formControlName="status">
                                <option value="draft">Draft</option>
                                <option value="live">Live</option>
                            </select>
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="category">Category<span class="required">*</span></label>
                            <select name="category-id" id="category" class="form-control" formControlName="category-id">
                                <option *ngFor="let category of categories" [value]="category.id">
                                    {{category.attributes.name}}
                                </option>
                            </select>
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="image-path-sm">Image Path Small</label>
                            <input class="form-control" type="text" name="image-path-sm" id="image-path-sm"
                                   formControlName="image-path-sm">
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="image-path-md">Image Path Medium</label>
                            <input class="form-control" type="text" name="image-path-md" id="image-path-md"
                                   formControlName="image-path-md">
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="image-path-lg">Image Path Large</label>
                            <input class="form-control" type="text" name="image-path-lg" id="image-path-lg"
                                   formControlName="image-path-lg">
                        </fieldset>

                        <fieldset class="form-group col-11 col-md-6">
                            <label for="image-path-meta">Image Path Meta</label>
                            <input class="form-control" type="text" name="image-path-meta" id="image-path-meta"
                                   formControlName="image-path-meta">
                        </fieldset>

                        <fieldset class="form-group col-12">
                            <label for="preview">Preview</label>
                            <textarea class="form-control" name="preview" id="preview" rows="4"
                                      formControlName="preview" maxlength="200"></textarea>
                        </fieldset>

                        <fieldset class="form-group col-12">
                            <label for="content">Content</label>
                            <textarea class="form-control post-form-content" name="content" id="content" rows="20"
                                      formControlName="content" maxlength="10000"></textarea>
                        </fieldset>

                    </div>
                </div>

                <button class="btn btn-secondary col-10 contact-form-submit-button" type="submit"
                        [disabled]="postForm.invalid" attr.aria-disabled="{{postForm.invalid}}">
                    Submit
                </button>
            </div>
        </form>

        <div class="col-12 col-lg-6">
            <blog-markdown-content [content$]="postForm.get('content').valueChanges"></blog-markdown-content>
        </div>

    </div>

</div>